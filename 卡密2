local keys = loadstring(game:HttpGet("https://raw.githubusercontent.com/HKJQ3/-script/refs/heads/main/%E5%8D%A1%E5%AF%861"))()
-- 验证卡密并检查是否过期
local function validateKey(keys, key)
    local keyData = keys[key]
    if not keyData then
        return false,"无效"
    end

    -- 永久卡密
    if keyData.time == -1 then
        return true,"永久"
    end

    -- 计算当前时间与卡密生成时间的差值（秒）
    local currentTime = os.time()
    local generateTime = tonumber(keyData.generatetime)
    local elapsedTime = currentTime - generateTime
    -- 将有效时间从天转换为秒
    local validTimeInSeconds = keyData.time * 24 * 60 * 60

    if elapsedTime < validTimeInSeconds then
        return true,"剩余时间：" .. (validTimeInSeconds - elapsedTime) / (24 * 60 * 60) .. " 天"
    else
        return false,"过期"
    end
end

local UI = loadstring(game:HttpGet("https://raw.githubusercontent.com/kkaaccnnbb/Logan/refs/heads/main/uiilb"))()

local win = UI:new("Virtual")

local uiTab1 = win:Tab("卡密系统", '4483345998')
local section = uiTab1:section("验证卡密", true)

-- 文本框用于输入卡密
local inputKey = ""
section:Textbox("请输入卡密", 'TextBoxfalg', "卡密", function(txt)
    inputKey = txt
end)

-- 添加验证按钮
section:Button("验证卡密", function()
    local success, message = validateKey(keys, inputKey)
    if success then
        warn("[验证成功] " .. message)  -- 成功信息
                wait(0)
        loadstring(game:HttpGet("https://github.com/HKJQ3/-script/raw/refs/heads/main/销毁"))()
        wait(0)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/kkaaccnnbb/Virtual/refs/heads/main/VirtualLT.lua"))()
    else
        warn("[验证失败] " .. message)  -- 失败信息
                wait(0)
        loadstring(game:HttpGet("https://github.com/HKJQ3/-script/raw/refs/heads/main/销毁"))()
    end
end)
section:Label("作者：小叶")
section:Label("漏洞修复者：Nova")
section:Label("技术支持者：Nova")
section:Label("没有卡密就找当时卖你脚本的那个人要")
section:Button("复制DC链接", function()
    local code = "https://discord.com/invite/AujFYRu5tQ"
    setclipboard(code)  -- 复制到剪贴板
end)
